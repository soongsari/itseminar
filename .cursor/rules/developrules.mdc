---
description: 
globs: 
alwaysApply: true
---
# Cursor AI Project Rules for IT Seminar Application

## ğŸ’» Development Environment
- Backend: Spring Boot 3.2.x (Maven)
- JDK: Java 17
- Frontend: Next.js 14.x (App Router) with React 18.x
- Node.js: v18.x LTS
- npm: v9.x
- Database: PostgreSQL 15.x
- ORM: Hibernate 6.x (JPA)
- Authentication: Spring Security + LDAP (í˜„ì¬ëŠ” ë¡œì»¬ LDAP, ì´í›„ ì‚¬ë‚´ ADë¡œ í™•ì¥ ì˜ˆì •)
- File Storage: PostgreSQL BLOB column
- ì˜¤í”„ë¼ì¸ ì‚¬ë‚´ë§ì—ì„œë„ ë™ì‘ ê°€ëŠ¥í•´ì•¼ í•¨
- ì™¸ë¶€ API, ì™¸ë¶€ CDN, ì™¸ë¶€ íŒŒì¼ ìŠ¤í† ë¦¬ì§€ ì‚¬ìš© ê¸ˆì§€

---

## ğŸ“¦ Project Structure
/backend # Spring Boot í”„ë¡œì íŠ¸
/frontend # Next.js í”„ë¡œì íŠ¸
/common # ì„ íƒì  ê³µí†µ íƒ€ì…/ìœ í‹¸ë¦¬í‹°


---

## âš™ï¸ Common Rules
- ê¸°ìˆ  ìŠ¤íƒê³¼ ë²„ì „ ê³ ì • (Cursorê°€ ë³€ê²½í•˜ì§€ ì•Šë„ë¡)
- ëª¨ë“  ì™¸ë¶€ ì¢…ì†ì„±ì€ ë‚´ë¶€ë§ì—ì„œë„ ì„¤ì¹˜ ê°€ëŠ¥í•´ì•¼ í•¨
- ì¸ì¦, íŒŒì¼ ì—…ë¡œë“œ, ë°ì´í„° ì €ì¥ ë°©ì‹ ë“±ì€ ë°˜ë“œì‹œ ëª…ì‹œëœ í˜•íƒœë¡œë§Œ êµ¬ì„±
- ëª¨ë“  ê¸°ëŠ¥ì€ ì˜¤í”„ë¼ì¸ í™˜ê²½ì—ì„œ ì •ìƒ ë™ì‘ ê°€ëŠ¥í•´ì•¼ í•¨

---

## ğŸ” Authentication
- Spring Security ê¸°ë°˜ ë¡œê·¸ì¸
- ì´ˆê¸°ì—” DB ê¸°ë°˜ username/password (BCrypt)
- LDAP (Local) ì—°ë™ â†’ ì´í›„ ì‚¬ë‚´ Active Directoryë¡œ êµì²´ ê°€ëŠ¥í•˜ë„ë¡ ì¸í„°í˜ì´ìŠ¤ ì„¤ê³„
- ì¸ì¦ API:
  - POST `/api/auth/login`
  - GET `/api/auth/me`
  - POST `/api/auth/logout`

---

## ğŸ‘¤ Roles
- USER: ì„¸ë¯¸ë‚˜ ì¡°íšŒ, ì‹ ì²­ ê°€ëŠ¥
- ADMIN: ì„¸ë¯¸ë‚˜ ë“±ë¡, ìˆ˜ì •, ì‚­ì œ, ì‹ ì²­ì í™•ì¸ ê°€ëŠ¥
- ê¶Œí•œ êµ¬ì¡°ëŠ” `ROLE_USER`, `ROLE_ADMIN` í˜•ì‹

---

## ğŸ“š Features

### ì‚¬ìš©ì ê¸°ëŠ¥ (USER)
- ë¡œê·¸ì¸
- ì„¸ë¯¸ë‚˜ ëª©ë¡ ì¡°íšŒ
- ì„¸ë¯¸ë‚˜ ìƒì„¸ ì¡°íšŒ
- ì„¸ë¯¸ë‚˜ ì‹ ì²­
- ì‹ ì²­ ë‚´ì—­ ì¡°íšŒ
- ì‹ ì²­ ì·¨ì†Œ (ì„¸ë¯¸ë‚˜ ì‹œì‘ 24ì‹œê°„ ì „ê¹Œì§€ë§Œ ê°€ëŠ¥)

### ê´€ë¦¬ì ê¸°ëŠ¥ (ADMIN)
- ì„¸ë¯¸ë‚˜ ë“±ë¡ (ì²¨ë¶€íŒŒì¼ í¬í•¨)
- ì„¸ë¯¸ë‚˜ ìˆ˜ì • / ì‚­ì œ
- ì„¸ë¯¸ë‚˜ë³„ ì‹ ì²­ì ëª©ë¡ ì¡°íšŒ
- ì‹ ì²­ì ëª…ë‹¨ Excel ë‹¤ìš´ë¡œë“œ (ì˜µì…˜ ê¸°ëŠ¥)

### ì‹œìŠ¤í…œ ìë™ ê¸°ëŠ¥
- ì„¸ë¯¸ë‚˜ëŠ” ì‹œì‘ ì‹œê°„ì´ ì§€ë‚˜ë©´ ìë™ìœ¼ë¡œ ë§ˆê° ì²˜ë¦¬ë¨ (`is_closed = true`)
- ë§ˆê°ëœ ì„¸ë¯¸ë‚˜ëŠ” ì‹ ì²­ ë¶ˆê°€
- ì‹ ì²­ ë§ˆê° ì—¬ë¶€ëŠ” ë°±ì—”ë“œì—ì„œ íŒë‹¨í•˜ë©°, í”„ë¡ íŠ¸ì—ë„ ë°˜ì˜

---

## ğŸ“ File Upload
- ì„¸ë¯¸ë‚˜ ë“±ë¡ ì‹œ íŒŒì¼ ì—…ë¡œë“œ ê°€ëŠ¥
- ì—…ë¡œë“œ íŒŒì¼ì€ PostgreSQLì˜ BLOB ì»¬ëŸ¼ì— ì €ì¥
- íŒŒì¼ ë©”íƒ€ì •ë³´ëŠ” ë³„ë„ í…Œì´ë¸”ì— ì €ì¥
- ë‹¤ì¤‘ íŒŒì¼ ì—…ë¡œë“œ êµ¬ì¡° ì§€ì›
- íŒŒì¼ ë‹¤ìš´ë¡œë“œ API ì œê³µ

---

## ğŸ“‚ ERD

### User
| Field         | Type        |
|---------------|-------------|
| id            | UUID (PK)   |
| username      | String      |
| password      | String (BCrypt) |
| full_name     | String      |
| email         | String      |
| department    | String      |
| role          | Enum(ADMIN/USER) |
| created_at    | Timestamp   |

---

### Seminar
| Field         | Type        |
|---------------|-------------|
| id            | UUID (PK)   |
| title         | String      |
| description   | Text        |
| date          | Timestamp   |
| location      | String      |
| is_closed     | Boolean     |
| created_by    | UUID (FK to User) |
| created_at    | Timestamp   |

---

### SeminarApplication
| Field         | Type        |
|---------------|-------------|
| id            | UUID (PK)   |
| user_id       | UUID (FK)   |
| seminar_id    | UUID (FK)   |
| applied_at    | Timestamp   |

---

### FileAttachment
| Field         | Type        |
|---------------|-------------|
| id            | UUID (PK)   |
| seminar_id    | UUID (FK)   |
| file_name     | String      |
| file_data     | BLOB        |
| uploaded_at   | Timestamp   |

---

## ğŸŒ API Specification

### Auth
- `POST /api/auth/login` â€“ ë¡œê·¸ì¸
- `GET /api/auth/me` â€“ ë¡œê·¸ì¸í•œ ì‚¬ìš©ì ì •ë³´
- `POST /api/auth/logout` â€“ ë¡œê·¸ì•„ì›ƒ

### Users
- `GET /api/users/me` â€“ ë‚´ ì •ë³´ ì¡°íšŒ

### Seminars
- `GET /api/seminars` â€“ ì„¸ë¯¸ë‚˜ ëª©ë¡ ì¡°íšŒ  
- `GET /api/seminars/{id}` â€“ ì„¸ë¯¸ë‚˜ ìƒì„¸ ë³´ê¸°  
- `POST /api/seminars` â€“ ì„¸ë¯¸ë‚˜ ë“±ë¡ (ê´€ë¦¬ì)  
- `PUT /api/seminars/{id}` â€“ ì„¸ë¯¸ë‚˜ ìˆ˜ì • (ê´€ë¦¬ì)  
- `DELETE /api/seminars/{id}` â€“ ì„¸ë¯¸ë‚˜ ì‚­ì œ (ê´€ë¦¬ì)  
- âœ… ì„¸ë¯¸ë‚˜ëŠ” ì‹œì‘ ì‹œê°„ì´ ì§€ë‚˜ë©´ ìë™ ë§ˆê° ì²˜ë¦¬ë¨ (`is_closed = true`)  
- âœ… ë§ˆê°ëœ ì„¸ë¯¸ë‚˜ëŠ” ì‹ ì²­ ë¶ˆê°€  

### Applications
- `POST /api/applications` â€“ ì„¸ë¯¸ë‚˜ ì‹ ì²­  
- `GET /api/applications/my` â€“ ë‚´ ì‹ ì²­ ë‚´ì—­  
- `GET /api/seminars/{id}/applicants` â€“ ì„¸ë¯¸ë‚˜ë³„ ì‹ ì²­ì ëª©ë¡ (ê´€ë¦¬ì)  
- `DELETE /api/applications/{id}/cancel` â€“ ì„¸ë¯¸ë‚˜ ì‹ ì²­ ì·¨ì†Œ  
  - âœ… ì„¸ë¯¸ë‚˜ ì‹œì‘ 24ì‹œê°„ ì „ê¹Œì§€ë§Œ ì·¨ì†Œ ê°€ëŠ¥  
  - âœ… ë§ˆê°ëœ ì„¸ë¯¸ë‚˜ ë˜ëŠ” ì§€ë‚œ ì„¸ë¯¸ë‚˜ëŠ” ì·¨ì†Œ ë¶ˆê°€  

### Attachments
- `POST /api/seminars/{id}/attachments` â€“ íŒŒì¼ ì—…ë¡œë“œ (ê´€ë¦¬ì)  
- `GET /api/attachments/{id}/download` â€“ íŒŒì¼ ë‹¤ìš´ë¡œë“œ


---

## ğŸ§ª Testing & Documentation
- JUnit 5 ê¸°ë°˜ í…ŒìŠ¤íŠ¸
- Swagger(OpenAPI 3) ë¬¸ì„œ ìë™í™” (springdoc-openapi 2.x)
- ì˜¤í”„ë¼ì¸ì—ì„œë„ í™•ì¸ ê°€ëŠ¥í•œ ë¬¸ì„œ í¬í•¨

---

## ğŸš« ì™¸ë¶€ ì˜ì¡´ ê¸ˆì§€
- ì™¸ë¶€ ì¸í„°ë„·ìœ¼ë¡œ ì§ì ‘ API í˜¸ì¶œ, CDN, ì™¸ë¶€ íŒŒì¼ ìŠ¤í† ë¦¬ì§€ ì‚¬ìš© ê¸ˆì§€
- ì™¸ë¶€ ì´ë¯¸ì§€, ì™¸ë¶€ CDN ìì› ì‚¬ìš© ê¸ˆì§€
- ë‚´ë¶€ Nexus Repository ë“± ì‚¬ë‚´ ì‚¬ì„¤ ì €ì¥ì†Œë¥¼ í†µí•œ Maven, npm íŒ¨í‚¤ì§€ ì„¤ì¹˜ë§Œ í—ˆìš©(í–¥í›„)
- ì™¸ë¶€ í´ë¼ìš°ë“œ(ì˜ˆ: AWS, GCP, Firebase ë“±) ì‚¬ìš© ê¸ˆì§€








